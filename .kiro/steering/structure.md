# プロジェクト構成

## 組織方針

小さく単純なアプリケーション向けの「サーバー中心 + 静的クライアント」構成です。サーバー側は API/リアルタイム処理（`server.js`）を一本化し、クライアントは `public/` 配下の静的資産（HTML/CSS/JS）で UI を完結させます。

## ディレクトリパターン

### ルート

**Location**: `/`  
**Purpose**: エントリポイント（`server.js`）、メタ（`package.json`, `README.md`）

### クライアント資産

**Location**: `/public/`  
**Purpose**: 静的 UI（`index.html`, `app.js`, `styles.css`）。クライアント側は DOM の特定 ID に依存するため、UI 要素の変更はサーバーとのプロトコルに影響させないこと。

### 設定・テンプレート

**Location**: `/.kiro/settings/`  
**Purpose**: プロジェクト固有のテンプレートやルール（ドキュメント生成に使用）。

## 命名規則

- ファイル: 小文字＋ハイフン/アンダースコアを許容（既存は `server.js`, `public/app.js`）
- モジュール/関数: キャメルケース（既存コードに沿う）

## インポート/モジュール

現在は CommonJS (`require`) を利用。将来的に ES モジュール化する場合は `package.json` の `type` を検討してください。

## コード組織原則

- プロトコル（WebSocket の `type` 値）は事実上の API 契約です。`server.js` と `public/app.js` の両方を同時に変更して不整合を避けてください。
- 新しい機能はまず小さなストレージラッパー（インメモリ → ファイル/DB への抽象層）を作ることで拡張性を確保する。

---

「新しいコードが既存パターンに従う限り、steering を更新する必要はない」という原則に従っています。構造の変更や API プロトコル変更があれば追記提案を行います。
